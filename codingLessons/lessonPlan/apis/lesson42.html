<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Requests II</title>
    <link rel="stylesheet" href="../../css/style.css">
</head>

<body>

<header>
    <p>Learn to Code</p>
</header>

<nav>
    <a href="../../../index.html">Site Home</a>
    <a href="../index.html">About Me</a>
    <div class="dropdown">
        <button class="dropbtn">Programming Basics
            <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-content">
            <a href="../programmingBasics/lesson1.html">Lesson 1 - Getting Started</a>
            <a href="../programmingBasics/lesson2.html">Lesson 2 - Data Types</a>
            <a href="../programmingBasics/lesson3.html">Lesson 3 - Strings</a>
            <a href="../programmingBasics/lesson4.html">Lesson 4 - Booleans and Conditions</a>
            <a href="../programmingBasics/lesson5.html">Lesson 5 - Numerics and Functions</a>
            <a href="../programmingBasics/lesson6.html">Lesson 6 - Lists and Tuples</a>
            <a href="../programmingBasics/lesson7.html">Lesson 7 - Loops</a>
            <a href="../programmingBasics/lesson8.html">Lesson 8 - Print vs Return</a>
            <a href="../programmingBasics/lesson9.html">Lesson 9 - Errors</a>
            <a href="../programmingBasics/lesson10.html">Lesson 10 - Dictionaries</a>
            <a href="../programmingBasics/lesson11.html">Lesson 11 - Recursion</a>
            <a href="../programmingBasics/lesson12.html">Lesson 12 - List Comprehensions</a>
            <a href="../programmingBasics/lesson13.html">Lesson 13 - Revision</a>
        </div>
    </div>
    <div class="dropdown">
        <button class="dropbtn">Object Oriented Programming
            <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-content">
            <a href="../oop/lesson14.html">Lesson 14 - Getting Started</a>
            <a href="../oop/lesson15.html">Lesson 15 - Inheritance</a>
            <a href="../oop/lesson16.html">Lesson 16 - Encapsulation</a>
            <a href="../oop/lesson17.html">Lesson 17 - Polymorphism</a>
            <a href="../oop/lesson18.html">Lesson 18 - Abstraction</a>
            <a href="../oop/lesson19.html">Lesson 19 - Text Based Game I</a>
            <a href="../oop/lesson20.html">Lesson 20 - Text Based Game II</a>
            <a href="../oop/lesson21.html">Lesson 21 - Text Based Game III</a>
            <a href="../oop/lesson22.html">Lesson 22 - Text Based Game IV</a>
            <a href="../oop/lesson23.html">Lesson 23 - Graphics Based Game I</a>
            <a href="../oop/lesson24.html">Lesson 24 - Graphics Based Game II</a>
            <a href="../oop/lesson25.html">Lesson 25 - Graphics Based Game III</a>
            <a href="../oop/lesson26.html">Lesson 26 - Graphics Based Game IV</a>
        </div>
    </div>
    <div class="dropdown">
        <button class="dropbtn">Data Structures
            <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-content">
            <a href="../dataStructures/lesson27.html">Lesson 27 - Getting Started</a>
            <a href="../dataStructures/lesson28.html">Lesson 28 - Stacks</a>
            <a href="../dataStructures/lesson29.html">Lesson 29 - Queues</a>
            <a href="../dataStructures/lesson30.html">Lesson 30 - Linked Lists I</a>
            <a href="../dataStructures/lesson31.html">Lesson 31 - Linked Lists II</a>
            <a href="../dataStructures/lesson32.html">Lesson 32 - Priority Queues</a>
            <a href="../dataStructures/lesson33.html">Lesson 33 - Binary Trees</a>
            <a href="../dataStructures/lesson34.html">Lesson 34 - Binary Search Trees</a>
            <a href="../dataStructures/lesson35.html">Lesson 35 - AVL Trees</a>
            <a href="../dataStructures/lesson36.html">Lesson 36 - Deques</a>
            <a href="../dataStructures/lesson37.html">Lesson 37 - Graphs I</a>
            <a href="../dataStructures/lesson38.html">Lesson 38 - Graphs II</a>
            <a href="../dataStructures/lesson39.html">Lesson 39 - Graphs III</a>
        </div>
    </div>
    <div class="dropdown">
        <button class="dropbtn">APIs & Libraries
            <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-content">
            <a href="../apis/lesson40.html">Lesson 40 - Getting Started</a>
            <a href="../apis/lesson41.html">Lesson 41 - Requests I</a>
            <a href="../apis/lesson42.html">Lesson 42 - Requests II</a>
            <a href="../apis/lesson43.html">Lesson 43 - Requests III</a>
            <a href="../apis/lesson44.html">Lesson 44 - Analysis I</a>
            <a href="../apis/lesson45.html">Lesson 45 - Analysis II</a>
            <a href="../apis/lesson46.html">Lesson 46 - Analysis III</a>
            <a href="../apis/lesson47.html">Lesson 47 - Analysis IV</a>
            <a href="../apis/lesson48.html">Lesson 48 - Visualisation I</a>
            <a href="../apis/lesson49.html">Lesson 49 - Visualisation II</a>
            <a href="../apis/lesson50.html">Lesson 50 - Visualisation III</a>
            <a href="../apis/lesson51.html">Lesson 51 - Visualisation VI</a>
            <a href="../apis/lesson52.html">Lesson 52 - Wrapping Up</a>
        </div>
    </div>
</nav>

<main>
    <h1>Questions</h1>
    <h2>Is it normal to receive a 404 response?</h2>
    <p>
        If you have input the incorrect details in the endpoint of the URL you are likely
        going to receive information that you hadn't intended to request. Sometimes you need to
        return to the documentation and read it very closely to make sure you are trying to
        make the correct call to the API.
    </p>
    <h2>How do you know which command you need?</h2>
    <p>
        The documentation will let you know if you need to use a get, post, put or delete
        request. You will receive an error if you use the wrong command. PokéAPI only allows
        developers to use GET requests so this should help you focus on retrieving information
        from a server rather than sending information anywhere for the time being.
    </p>

    <h1>Code Examples</h1>
    <p>
        Today we will look at a website which aggregates news articles. You will need to sign
        up for an account with <a href="https://www.thenewsapi.com/">The News API</a> for this
        week's lesson. You can create a free account and will be able to make 100 free calls a
        month to their API. You will need to create an account to get your own API key. We will
        focus on passing parameters within a request. This lesson will also give you a guide to
        reading documentation. Let's look at example below and talk through the code.
    </p>
    <div class="example">
        <div class="grid-item"><pre>import requests

url = "https://api.thenewsapi.com/v1/news/all"
params = {"api_token": "<b>{YOUR API TOKEN}</b>",
          "language": "en",
          "published_on": "2021-01-06",
          "categories": "politics"}
res = requests.get(url=url, params=params)
data = res.json()
data = data["data"]
for item in data:
    print(item["source"], "\t", item["title"])</pre></div>
        <div class="grid-item"><br><br><br><br><br><br>
            cnbc.com 	 Control of Senate allows Democrats to act on Biden's climate change agenda
            <br>cnbc.com 	 Control of the Senate gives Democrats chance to act on judges, $2,000 checks, and ambitious Biden agenda
            <br>cnbc.com 	 Airlines move flight crews to D.C. airport hotels to avoid Trump protest</div>
    </div>
    <p>
        As per usual, we use Python's requests library. The URL is our endpoint. We have four
        parameters. As per the <a href="https://www.thenewsapi.com/documentation">documentation</a>
        of The News API, we must include an API token as a parameter with our request. Each
        unique API token is tied to pricing plans. I have not provided mine here - you will
        need to sign up and request your own. I have limited the language of the results
        returned to English; feel free to limit yours to a language you understand. I decided
        to limit the results returned to January 6th and the category to politics. The free
        tier returns three results per API call. I looped through the data to return the source
        and title of each article. The three articles are from CNBC.
    </p>

    <h1>Exercises</h1>
    <h2>Lesson 41 Solution</h2>
    <ol>
        <li><b>Can you find Pikachu's height?</b></li>
        <li><b>How many Pokémon will be returned if you do not have a limit as a parameter?</b></li>
        <li><b>How many green Pokémon are there?</b></li>
    </ol>
    <div class="example">
        <div class="grid-item"><pre>url = "https://pokeapi.co/api/v2/pokemon/pikachu"
r = requests.get(url)
data = r.json()
height = data['height']
print(height)

url = "https://pokeapi.co/api/v2/pokemon/"
res = requests.request("GET", url=url)
data = res.json()
refinedData = data["results"]
print(refinedData.__len__())

url = "https://pokeapi.co/api/v2/pokemon-color/green"
res = requests.request("GET", url=url)
data = res.json()
print(data["pokemon_species"].__len__())</pre></div>
        <div class="grid-item">
            <br><br><br><br><br>4<br>
            <br><br><br><br><br>20
            <br><br><br><br><br>130</div>
    </div>
    <h2>Lesson 42 Assignment</h2>
    <p>
        Let's build upon today's code snippets from above. I am going to assume you have
        signed up for the free tier for this assignment. See how many of these you can find.
    </p>
    <ol>
        <li>List three food articles in the English language which mention chicken in August 2022.</li>
        <li>List three travel articles in the English language which mention Spain in June 2023.</li>
    </ol>

</main>

<footer>
    <h1>Page created by Orla</h1>
</footer>

</body>
</html>